(this["webpackJsonpclient-form"]=this["webpackJsonpclient-form"]||[]).push([[0],{15:function(e,s,t){},17:function(e,s,t){"use strict";t.r(s);var a=t(1),c=t(8),n=t.n(c),r=(t(15),t(5)),l=t(10),i=t(2),o=t(4),u=t(9),d=t(0),j=function(e){var s=e.parentCallback,t=Object(a.useRef)(null),c=Object(a.useState)(null),n=Object(o.a)(c,2),r=n[0],l=n[1];Object(a.useEffect)((function(){i()}),[]),Object(a.useEffect)((function(){s(r)}),[r]);var i=function(){var e=new window.google.maps.places.Autocomplete(t.current);new window.google.maps.event.addListener(e,"place_changed",(function(){var s,t=e.getPlace(),a="",c="",n="",r="",i=Object(u.a)(t.address_components);try{for(i.s();!(s=i.n()).done;){var o=s.value;switch(o.types[0]){case"street_number":r=o.short_name;break;case"postal_code":a=o.short_name;break;case"locality":c=o.short_name;break;case"country":n=o.long_name}}}catch(d){i.e(d)}finally{i.f()}l({address:t.formatted_address,country:n,city:c,house:r,postCode:a})}))};return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("input",{id:"placeInput",type:"text",ref:t})})},b=function(e){var s=e.parentCallback,t=e.clientList,a=t.map((function(e){return Object(d.jsx)("li",{children:Object(d.jsxs)("div",{className:"client-group",children:[Object(d.jsxs)("div",{className:"list-text",children:[e.name," ",e.surname]}),Object(d.jsx)("div",{className:"list-text",children:e.email}),Object(d.jsx)("div",{className:"list-text",children:e.address}),Object(d.jsx)("div",{className:"list-text",children:e.country}),Object(d.jsx)("div",{className:"list-text",children:e.city}),Object(d.jsx)("div",{className:"list-text",children:e.house}),Object(d.jsx)("div",{className:"list-text",children:e.postCode}),Object(d.jsx)("button",{onClick:function(){return s(e.id)},children:"Delete Client"})]})},e.id)}));return Object(d.jsx)(d.Fragment,{children:0!==t.length&&Object(d.jsxs)("div",{className:"form-box",children:[Object(d.jsx)("p",{className:"title",children:"Client List"}),a]})})},m=function(){var e=Object(a.useState)({id:null,name:"",surname:"",email:"",address:"",country:"",city:"",house:"",postCode:""}),s=Object(o.a)(e,2),t=s[0],c=s[1],n=Object(a.useState)({name:null,surname:null,email:null,address:null,country:null,city:null,house:null,postCode:null}),u=Object(o.a)(n,2),m=u[0],O=u[1],p=Object(a.useState)((function(){var e=JSON.parse(window.localStorage.getItem("clients"));return console.log(e),e||[]})),h=Object(o.a)(p,2),x=h[0],f=h[1];Object(a.useEffect)((function(){t.id&&f(x.concat([t]))}),[t.id]),Object(a.useEffect)((function(){localStorage.setItem("clients",JSON.stringify(x))}),[x]);var y=function(e){var s=e.target.name;if(c(Object(i.a)(Object(i.a)({},t),{},Object(r.a)({},s,e.target.value))),Object.keys(m).includes(s)){var a=v(s,e.target.value);O(Object(i.a)(Object(i.a)({},m),{},Object(r.a)({},s,a)))}},v=function(e,s){var t=null;switch(e){case"name":s||(t="Please enter Name.");break;case"surname":s||(t="Please enter Surname.");break;case"email":s?/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@(([[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(s)||(t="Please enter valid Email."):t="Please enter Email.";break;case"address":s||(t="Please enter Address.");break;case"country":s||(t="Please enter Country.");break;case"city":s||(t="Please enter City.");break;case"house":s?/[^$,\.\d]/.test(s)&&(t="Please enter valid House No(numbers only)."):t="Please enter House No.";break;case"postCode":s?/[^$,\.\d]/.test(s)&&(t="Please enter valid Post Code(numbers only)."):t="Please enter Post Code."}return t};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"form-box",children:[Object(d.jsx)("p",{className:"title",children:"Add Cient"}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsxs)("label",{children:["Name:",Object(d.jsx)("span",{className:"asterisk",children:"*"})]}),Object(d.jsx)("input",{className:"input",type:"text",name:"name",value:t.name,onChange:y,onBlur:y}),m.name&&Object(d.jsx)("span",{className:"err",children:m.name})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsxs)("label",{children:["Surname:",Object(d.jsx)("span",{className:"asterisk",children:"*"})]}),Object(d.jsx)("input",{className:"input",type:"text",name:"surname",value:t.surname,onChange:y,onBlur:y}),m.name&&Object(d.jsx)("span",{className:"err",children:m.surname})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsxs)("label",{children:["Email:",Object(d.jsx)("span",{className:"asterisk",children:"*"})]}),Object(d.jsx)("input",{className:"input",type:"text",name:"email",value:t.email,onChange:y,onBlur:y}),m.email&&Object(d.jsx)("span",{className:"err",children:m.email})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Address search:"}),Object(d.jsx)(j,{parentCallback:function(e){if(e){c(Object(i.a)(Object(i.a)({},t),{},{address:e.address,country:e.country,city:e.city,house:e.house,postCode:e.postCode}));var s=v("address",e.address),a=v("country",e.country),n=v("city",e.city),r=v("house",e.house),l=v("postCode",e.postCode);O(Object(i.a)(Object(i.a)({},m),{},{address:s,country:a,city:n,house:r,postCode:l}))}}})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsxs)("label",{children:["Address:",Object(d.jsx)("span",{className:"asterisk",children:"*"})]}),Object(d.jsx)("input",{className:"input",type:"text",name:"address",value:t.address,onChange:y,onBlur:y}),m.address&&Object(d.jsx)("span",{className:"err",children:m.address})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsxs)("label",{children:["Country:",Object(d.jsx)("span",{className:"asterisk",children:"*"})]}),Object(d.jsx)("input",{className:"input",type:"text",name:"country",value:t.country,onChange:y,onBlur:y}),m.country&&Object(d.jsx)("span",{className:"err",children:m.country})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsxs)("label",{children:["City:",Object(d.jsx)("span",{className:"asterisk",children:"*"})]}),Object(d.jsx)("input",{className:"input",type:"text",name:"city",value:t.city,onChange:y,onBlur:y}),m.city&&Object(d.jsx)("span",{className:"err",children:m.city})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsxs)("label",{children:["House no:",Object(d.jsx)("span",{className:"asterisk",children:"*"})]}),Object(d.jsx)("input",{className:"input",type:"text",name:"house",value:t.house,onChange:y,onBlur:y}),m.house&&Object(d.jsx)("span",{className:"err",children:m.house})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsxs)("label",{children:["Post Code:",Object(d.jsx)("span",{className:"asterisk",children:"*"})]}),Object(d.jsx)("input",{className:"input",type:"text",name:"postCode",value:t.postCode,onChange:y,onBlur:y}),m.postCode&&Object(d.jsx)("span",{className:"err",children:m.postCode})]}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("button",{onClick:function(){var e=function(e,s,t){var a={};return Object.keys(s).map((function(s){var c=t(s,e[s]);c&&(a[s]=c)})),a}(t,m,v);if(0!==Object.keys(e).length)return O(e),!1;c(Object(i.a)(Object(i.a)({},t),{},{id:"_"+Math.random().toString(36).substr(2,9)})),setTimeout((function(){c({id:null,name:"",surname:"",email:"",address:"",country:"",city:"",house:"",postCode:""}),document.getElementById("placeInput").value=""}),500)},children:"Submit"})})]}),Object(d.jsx)(b,{parentCallback:function(e){for(var s=x,t=0,a=0;a<s.length;a++)s[a].id===e&&(t=a);s.splice(t,1),f(Object(l.a)(s))},clientList:x})]})},O=function(){return Object(d.jsx)("div",{className:"container",children:Object(d.jsx)(m,{})})};n.a.render(Object(d.jsx)(O,{}),document.getElementById("app"))}},[[17,1,2]]]);
//# sourceMappingURL=main.c82af8a8.chunk.js.map